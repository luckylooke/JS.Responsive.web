




<h1 class="page-title">Source: focusBlur.js</h1><div class="" id="toc-content"><div class="container">
<div class="row">

	
	<div class="col-md-12">
	
		<div id="main">
			

		
    
<section>
    <article>
        <pre class="sunlight-highlight-javascript linenums">/**
 *
 * Detection of window focus
 * @module focusBlur
 * @pretty-name Window focus detection
 * @teaser Is window focused or not?
 *
 * @custom-class window-focused
 * @custom-class window-blured
 *
 * @emits windowFocused - Arguments: {Boolean} isFocused
 *
 **/

var
    // Opera does not support document.hasFocus()
    isWindowFocused = document.hasFocus ? document.hasFocus() : TRUE,

    WINDOW_FOCUSED_CLASS = &apos;window-focused&apos;,
    WINDOW_BLURED_CLASS = &apos;window-blured&apos;;

/**
 * Returns if document is in state that everything is loaded.
 * @returns {Boolean}
 * @memberof module:focusBlur
 * @alias JS.Responsive.isDocumentLoaded
 * @since 3.0.0
 */
$C.isDocumentLoaded = function() {

    return isDocumentLoaded;
};


/**
 * Returns true if user is leaving current page.
 * @returns {Boolean}
 * @memberof module:focusBlur
 * @alias JS.Responsive.isDocumentUnloading
 * @since 3.0.0
 */
$C.isDocumentUnloading = function() {

    return isDocumentUnloading;
};


/**
 * Returns true if window is focused/active.
 * @returns {Boolean}
 * @memberof module:focusBlur
 * @alias JS.Responsive.isFocused
 * @since 3.0.0
 */
$C.isFocused = function() {

    return isWindowFocused;
};

$C.features.focusBlur = initFB;

// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################

function initFB() {
    bind(window, &apos;blur&apos;, onblurHandler);
    bind(window, &apos;focus&apos;, onfocusHandler);

    if (isWindowFocused)
        onfocusHandler();
    else
        onblurHandler();
}

function onblurHandler( e ) {
    isWindowFocused = FALSE;
    removeClass(WINDOW_FOCUSED_CLASS);
    addClass(WINDOW_BLURED_CLASS);
    $C.emit(&apos;windowFocused&apos;, FALSE);
}

function onfocusHandler( e ) {
    isWindowFocused = TRUE;
    removeClass(WINDOW_BLURED_CLASS);
    addClass(WINDOW_FOCUSED_CLASS);
    $C.emit(&apos;windowFocused&apos;, TRUE);
}</pre>
    </article>
</section>





		</div>
	</div>

	<div class="clearfix"></div>

	

</div>
</div></div>


    


<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a>
	
		on Jan 4, 2017 10:36 AM
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>




    






<!--Navigation and Symbol Display-->




<!--Google Analytics-->



    


